!function(e,t){var n=t.jQuery;"object"==typeof exports?module.exports=n?e(t,n):function(n){if(n&&!n.fn)throw"Provide jQuery or null";return e(t,n)}:"function"==typeof define&&define.amd?define(function(){return e(t)}):e(t,!1)}(function(e,t){"use strict";function n(e,t){return function(){var n,r=this,i=r.base;return r.base=e,n=t.apply(r,arguments),r.base=i,n}}function r(e,t){return B(t)&&((t=n(e?e._d?e:n(a,e):a,t))._d=(e&&e._d||0)+1),t}function i(e,t){var n,i=t.props;for(n in i)!he.test(n)||e[n]&&e[n].fix||(e[n]="convert"!==n?r(e.constructor.prototype[n],i[n]):i[n])}function o(e){return e}function a(){return""}function s(e){this.name=(t.link?"JsViews":"JsRender")+" Error",this.message=e||this.name}function l(e,t){if(e){for(var n in t)e[n]=t[n];return e}}function d(){var e=this.get("item");return e?e.index:void 0}function p(){return this.index}function u(e,t,n,r){var i,o,s,l=0;if(1===n&&(r=1,n=void 0),t)for(s=(o=t.split(".")).length;e&&l<s;l++)i=e,e=o[l]?e[o[l]]:e;return n&&(n.lt=n.lt||l<s),void 0===e?r?a:"":r?function(){return e.apply(i,arguments)}:e}function c(n,r,i){var o,a,s,d,p,u,c,f=this,g=!se&&arguments.length>1,v=f.ctx;if(n){if(f._||(p=f.index,f=f.tag),u=f,v&&v.hasOwnProperty(n)||(v=Z).hasOwnProperty(n)){if(s=v[n],"tag"===n||"tagCtx"===n||"root"===n||"parentTags"===n||f._.it===n)return s}else v=void 0;if((!se&&f.tagCtx||f.linked)&&(s&&s._cxp||(f=f.tagCtx||B(s)?f:!(f=f.scope||f).isTop&&f.ctx.tag||f,void 0!==s&&f.tagCtx&&(f=f.tagCtx.view.scope),v=f._ocps,(s=v&&v.hasOwnProperty(n)&&v[n]||s)&&s._cxp||!i&&!g||((v||(f._ocps=f._ocps||{}))[n]=s=[{_ocp:s,_vw:u,_key:n}],s._cxp={path:de,ind:0,updateValue:function(e,n){return t.observable(s[0]).setProperty(de,e),this}})),d=s&&s._cxp)){if(arguments.length>2)return(a=s[1]?G._ceo(s[1].deps):[de]).unshift(s[0]),a._cxp=d,a;if(p=d.tagElse,c=s[1]?d.tag&&d.tag.cvtArgs?d.tag.cvtArgs(p,1)[d.ind]:s[1](s[0].data,s[0],G):s[0]._ocp,g)return s&&c!==r&&G._ucp(n,r,f,d),f;s=c}return s&&B(s)&&l(o=function(){return s.apply(this&&this!==e?this:u,arguments)},s),o||s}}function f(e,t){var n,r,i,o,a,s,l,d=this;if(d.tagName){if(!(d=((s=d).tagCtxs||[d])[e||0]))return}else s=d.tag;if(a=s.bindFrom,o=d.args,(l=s.convert)&&""+l===l&&(l="true"===l?void 0:d.view.getRsc("converters",l)||T("Unknown converter: '"+l+"'")),l&&!t&&(o=o.slice()),a){for(i=[],n=a.length;n--;)r=a[n],i.unshift(g(d,r));t&&(o=i)}if(l){if(void 0===(l=l.apply(s,i||o)))return o;if(n=(a=a||[0]).length,Q(l)&&l.length===n||(l=[l],a=[0],n=1),t)o=l;else for(;n--;)+(r=a[n])===r&&(o[r]=l[n])}return o}function g(e,t){return(e=e[+t===t?"args":"props"])&&e[t]}function v(e){return this.cvtArgs(e,1)}function m(e,t,n,r,i,o,a,s){var l,p,u,c=this,f="array"===t;c.content=s,c.views=f?[]:{},c.data=r,c.tmpl=i,u=c._={key:0,useKey:f?0:1,id:""+ke++,onRender:a,bnds:{}},c.linked=!!a,c.type=t||"top",(c.parent=n)?(c.root=n.root||c,l=n.views,p=n._,c.isTop=p.scp,c.scope=(!e.tag||e.tag===n.ctx.tag)&&!c.isTop&&n.scope||c,p.useKey?(l[u.key="_"+p.useKey++]=c,c.index=Ne,c.getIndex=d):l.length===(u.key=c.index=o)?l.push(c):l.splice(o,0,c),c.ctx=e||n.ctx):(c.ctx=e||{},t&&(c.root=c))}function h(e,t){return B(e)?e.call(t):e}function _(e,t,n){Object.defineProperty(e,t,{value:n,configurable:!0})}function b(e,n){var r,i=Y._wm||{},o={tmpls:[],links:{},bnds:[],_is:"template",render:k};return n&&(o=l(o,n)),o.markup=e,o.htmlTag||(r=ve.exec(e),o.htmlTag=r?r[1].toLowerCase():""),(r=i[o.htmlTag])&&r!==i.div&&(o.markup=t.trim(o.markup)),o}function x(e,t){var n=e+"s";K[n]=function r(i,o,a){var s,l,d,p=G.onStore[e];if(i&&typeof i===Ae&&!i.nodeType&&!i.markup&&!i.getTgt&&!("viewModel"===e&&i.getters||i.extend)){for(l in i)r(l,i[l],o);return o||K}return i&&""+i!==i&&(a=o,o=i,i=void 0),d=a?"viewModel"===e?a:a[n]=a[n]||{}:r,s=t.compile,void 0===o&&(o=s?i:d[i],i=void 0),null===o?i&&delete d[i]:(s&&((o=s.call(d,i,o,a,0)||{})._is=e),i&&(d[i]=o)),p&&p(i,o,a,s),o}}function w(e){ee[e]=ee[e]||function(t){return arguments.length?(X[e]=t,ee):X[e]}}function y(e){function t(t,n){this.tgt=e.getTgt(t,n),n.map=this}return B(e)&&(e={getTgt:e}),e.baseMap&&(e=l(l({},e.baseMap),e)),e.map=function(e,n){return new t(e,n)},e}function k(e,t,n,r,i,o){var a,s,l,d,p,u,c,f=r,g="";if(!0===t?(n=t,t=void 0):typeof t!==Ae&&(t=void 0),(l=this.tag)?(this,d=(f=f||this.view)._getTmpl(l.template||this.tmpl),arguments.length||(e=l.contentCtx&&B(l.contentCtx)?e=l.contentCtx(e):f)):d=this,d){if(!r&&e&&"view"===e._is&&(f=e),f&&e===f&&(e=f.data),p=!f,se=se||p,f||((t=t||{}).root=e),!se||Y.useViews||d.useViews||f&&f!==q)g=C(d,e,t,n,f,i,o,l);else{if(f?(u=f.data,c=f.index,f.index=Ne):(u=(f=q).data,f.data=e,f.ctx=t),Q(e)&&!n)for(a=0,s=e.length;a<s;a++)f.index=a,f.data=e[a],g+=d.fn(e[a],f,G);else f.data=e,g+=d.fn(e,f,G);f.data=u,f.index=c}p&&(se=void 0)}return g}function C(e,t,n,r,i,o,a,s){function d(e){(w=l({},n))[x]=e}var p,u,c,f,g,v,h,_,b,x,w,y,k,C="";if(s&&(b=s.tagName,y=s.tagCtx,n=n?V(n,s.ctx):s.ctx,e===i.content?h=e!==i.ctx._wrp?i.ctx._wrp:void 0:e!==y.content?e===s.template?(h=y.tmpl,n._wrp=y.content):h=y.content||i.content:h=i.content,!1===y.props.link&&((n=n||{}).link=!1),(x=y.props.itemVar)&&("~"!==x[0]&&j("Use itemVar='~myItem'"),x=x.slice(1))),i&&(a=a||i._.onRender,(k=n&&!1===n.link)&&i._.nl&&(a=void 0),n=V(n,i.ctx)),!0===o&&(v=!0,o=0),a&&s&&s._.noVws&&(a=void 0),_=a,!0===a&&(_=void 0,a=i._.onRender),n=e.helpers?V(e.helpers,n):n,w=n,Q(t)&&!r)for((c=v?i:void 0!==o&&i||new m(n,"array",i,t,e,o,a,h))._.nl=k,i&&i._.useKey&&(c._.bnd=!s||s._.bnd&&s,c.tag=s),p=0,u=t.length;p<u;p++)x&&d(t[p]),(f=new m(w,"item",c,t[p],e,(o||0)+p,a,c.content))._.it=x,g=e.fn(t[p],f,G),C+=c._.onRender?c._.onRender(g,f):g;else x&&d(t),(c=v?i:new m(w,b||"data",i,t,e,o,a,h))._.it=x,c.tag=s,c._.nl=k,C+=e.fn(t,c,G);return s&&(c.tagElse=y.index,y.contentView=c),_?_(C,c):C}function T(e){throw new G.Err(e)}function j(e){T("Syntax error\n"+e)}function A(e,t,n,r,i){function o(t){(t-=g)&&m.push(e.substr(g,t).replace(pe,"\\n"))}function a(t,n){t&&(t+="}}",j((n?"{{"+n+"}} block has {{/"+t+" without {{"+t:"Unmatched or missing {{/"+t)+", in template:\n"+e))}var s,l,d,p,u,c=X.allowCode||t&&t.allowCode||!0===ee.allowCode,f=[],g=0,v=[],m=f,h=[,,f];if(c&&t._is&&(t.allowCode=c),n&&(void 0!==r&&(e=e.slice(0,-r.length-2)+re),e=te+e+ie),a(v[0]&&v[0][2].pop()[0]),e.replace(U,function(s,l,u,f,_,b,x,w,y,k,C,T){(x&&l||y&&!u||w&&":"===w.slice(-1)||k)&&j(s),b&&(_=":",f=je);var A,P,N,F=(l||n)&&[[]],V="",$="",O="",E="",I="",S="",D="",J="",U=!(y=y||n&&!i)&&!_;u=u||(w=w||"#data",_),o(T),g=T+s.length,x?c&&m.push(["*","\n"+w.replace(/^:/,"ret+= ").replace(ue,"$1")+";\n"]):u?("else"===u&&(ge.test(w)&&j('For "{{else if expr}}" use "{{else expr}}"'),F=h[9]&&[[]],h[10]=e.substring(h[10],T),P=h[11]||h[0]||j("Mismatched: "+s),h=v.pop(),m=h[2],U=!0),w&&M(w.replace(pe," "),F,t,n).replace(fe,function(e,t,n,r,i,o,a,s){return"this:"===r&&(o="undefined"),s&&(N=N||"@"===s[0]),r="'"+i+"':",a?($+=n+o+",",E+="'"+s+"',"):n?(O+=r+"j._cp("+o+',"'+s+'",view),',S+=r+"'"+s+"',"):t?D+=o:("trigger"===i&&(J+=o),"lateRender"===i&&(A="false"!==s),V+=r+o+",",I+=r+"'"+s+"',",p=p||he.test(i)),""}).slice(0,-1),F&&F[0]&&F.pop(),d=[u,f||!!r||p||"",U&&[],R(E||(":"===u?"'#data',":""),I,S),R($||(":"===u?"data,":""),V,O),D,J,A,N,F||0],m.push(d),U&&(v.push(h),(h=d)[10]=g,h[11]=P)):C&&(a(C!==h[0]&&C!==h[11]&&C,h[0]),h[10]=e.substring(h[10],T),h=v.pop()),a(!h&&C),m=h[2]}),o(e.length),(g=f[f.length-1])&&a(""+g!==g&&+g[10]===g[10]&&g[0]),n){for(l=F(f,e,n),u=[],s=f.length;s--;)u.unshift(f[s][9]);P(l,u)}else l=F(f,t);return l}function P(e,t){var n,r,i=0,o=t.length;for(e.deps=[],e.paths=[];i<o;i++)for(n in e.paths.push(r=t[i]),r)"_jsvto"!==n&&r.hasOwnProperty(n)&&r[n].length&&!r[n].skp&&(e.deps=e.deps.concat(r[n]))}function R(e,t,n){return[e.slice(0,-1),t.slice(0,-1),n.slice(0,-1)]}function N(e,t){return"\n\t"+(t?t+":{":"")+"args:["+e[0]+"],\n\tprops:{"+e[1]+"}"+(e[2]?",\n\tctx:{"+e[2]+"}":"")}function M(e,t,n,r){var i,o,a,s,l,d=t&&t[0],p={bd:d},u={0:p},c=0,f=(n?n.links:d&&(d.links=d.links||{}))||q.tmpl.links,g=0,v={},m={};return"@"===e[0]&&(e=e.replace(ye,".")),l=(e+(n?" ":"")).replace(G.rPrm,function(l,h,_,b,x,w,y,k,C,T,P,R,N,M,F,V,$,O,E,I,S){b&&!k&&(x=b+x),w=w||"",_=_||h||N,x=x||C,T&&(T=!/\)|]/.test(S[I-1]))&&(x=x.slice(1).split(".").join("^"));var D,J,U,q,K,L=")";if("["===(P=P||O||"")&&(P="[j._sq(",L=")]"),!y||s||a){if(d&&$&&!s&&!a&&g&&(D=m[g-1],S.length-1>I-(D||0))){if(D=S.slice(D,I+l.length),!0!==J)if(U=o||u[g-1].bd,(q=U[U.length-1])&&q.prm){for(;q.sb&&q.sb.prm;)q=q.sb;K=q.sb={path:q.sb,bnd:q.bnd}}else U.push(K={path:U.pop()});(J=f[$=ne+":"+D+" onerror=''"+re])||(f[$]=!0,f[$]=J=A($,n,!0)),!0!==J&&K&&(K._cpfn=J,K.prm=p.bd,K.bnd=K.bnd||K.path&&K.path.indexOf("^")>=0)}return s?(s=!M)?l:N+'"':a?(a=!F)?l:N+'"':(_?(m[g]=I++,p=u[++g]={bd:[]},_):"")+(E?g?"":(c=S.slice(c,I),(i?(i=o=!1,"\b"):"\b,")+c+(c=I+l.length,d&&t.push(p.bd=[]),"\b")):k?(g&&j(e),d&&t.pop(),i="_"+x,b,c=I+l.length,d&&((d=p.bd=t[i]=[]).skp=!b),x+":"):x?x.split("^").join(".").replace(G.rPath,function(e,n,a,s,l,u,c,f){var v="."===a;if(a&&(x=x.slice(n.length),/^\.?constructor$/.test(f||x)&&j(e),v||(e=(T?(r?"":"(ltOb.lt=ltOb.lt||")+"(ob=":"")+(s?'view.ctxPrm("'+s+'")':l?"view":"data")+(T?")===undefined"+(r?"":")")+'?"":view._getOb(ob,"':"")+(f?(u?"."+u:s?"":l?"":"."+a)+(c||""):(f=s?"":l?u||"":a,"")),e=n+("view.data"===(e+=f?"."+f:"").slice(0,9)?e.slice(5):e)+(T?(r?'"':'",ltOb')+(P?",1)":")"):"")),d)){if(U="_linkTo"===i?o=t._jsvto=t._jsvto||[]:p.bd,q=v&&U[U.length-1]){if(q._cpfn){for(;q.sb;)q=q.sb;q.bnd&&(x="^"+x.slice(1)),q.sb=x,q.bnd=q.bnd||"^"===x[0]}}else U.push(x);m[g]=I+(v?1:0)}return e})+(P?(p=u[++g]={bd:[]},v[g]=L,P):w):w||(V?(V=v[g]||V,v[g]=!1,p=u[--g],V+(P?(p=u[++g],v[g]=L,P):"")):R?(v[g]||j(e),","):h?"":(s=M,a=F,'"')))}j(e)}),!g&&l||j(e)}function F(e,t,n){var r,i,o,a,s,l,d,p,u,c,f,g,v,m,h,_,x,w,y,k,C,T,A,R,M,V,$,O,E,I,S,D,J=0,U=Y.useViews||t.useViews||t.tags||t.templates||t.helpers||t.converters,q="",K={},L=e.length;for(""+t===t?(x=n?'data-link="'+t.replace(pe," ").slice(1,-1)+'"':t,t=0):(x=t.tmplName||"unnamed",t.allowCode&&(K.allowCode=!0),t.debug&&(K.debug=!0),c=t.bnds,_=t.tmpls),r=0;r<L;r++)if(""+(i=e[r])===i)q+='\n+"'+i+'"';else if("*"===(o=i[0]))q+=";\n"+i[1]+"\nret=ret";else{if(a=i[1],k=!n&&i[2],s=N(i[3],"params")+"},"+N(g=i[4]),E=i[6],I=i[7],i[8]?(S="\nvar ob,ltOb={},ctxs=",D=";\nctxs.lt=ltOb.lt;\nreturn ctxs;"):(S="\nreturn ",D=""),C=i[10]&&i[10].replace(ue,"$1"),(R="else"===o)?f&&f.push(i[9]):($=i[5]||!1!==X.debugMode&&"undefined",c&&(f=i[9])&&(f=[f],J=c.push(1))),U=U||g[1]||g[2]||f||/view.(?!index)/.test(g[0]),(M=":"===o)?a&&(o=a===je?">":a+o):(k&&((w=b(C,K)).tmplName=x+"/"+o,w.useViews=w.useViews||U,F(k,w),U=w.useViews,_.push(w)),R||(y=o,U=U||o&&(!z[o]||!z[o].flow),A=q,q=""),T=(T=e[r+1])&&"else"===T[0]),O=$?";\ntry{\nret+=":"\n+",v="",m="",M&&(f||E||a&&a!==je||I)){if((V=new Function("data,view,j,u","// "+x+" "+ ++J+" "+o+S+"{"+s+"};"+D))._er=$,V._tag=o,V._bd=!!f,V._lr=I,n)return V;P(V,f),u=!0,v=(h='c("'+a+'",view,')+J+",",m=")"}if(q+=M?(n?($?"try{\n":"")+"return ":O)+(u?(u=void 0,U=p=!0,h+(V?(c[J-1]=V,J):"{"+s+"}")+")"):">"===o?(d=!0,"h("+g[0]+")"):(!0,"((v="+g[0]+")!=null?v:"+(n?"null)":'"")'))):(l=!0,"\n{view:view,content:false,tmpl:"+(k?_.length:"false")+","+s+"},"),y&&!T){if(q="["+q.slice(0,-1)+"]",h='t("'+y+'",view,this,',n||f){if((q=new Function("data,view,j,u"," // "+x+" "+J+" "+y+S+q+D))._er=$,q._tag=y,f&&P(c[J-1]=q,f),q._lr=I,n)return q;v=h+J+",undefined,",m=")"}q=A+O+h+(f&&J||q)+")",f=0,y=0}$&&!T&&(U=!0,q+=";\n}catch(e){ret"+(n?"urn ":"+=")+v+"j._err(e,view,"+$+")"+m+";}"+(n?"":"ret=ret"))}q="// "+x+(K.debug?"\ndebugger;":"")+"\nvar v"+(l?",t=j._tag":"")+(p?",c=j._cnvt":"")+(d?",h=j._html":"")+(n?(i[8]?", ob":"")+";\n":',ret=""')+q+(n?"\n":";\nreturn ret;");try{q=new Function("data,view,j,u",q)}catch(e){j("Compiled template code:\n\n"+q+'\n: "'+(e.message||e)+'"')}return t&&(t.fn=q,t.useViews=!!U),q}function V(e,t){return e&&e!==t?t?l(l({},t),e):e:t&&l({},t)}function $(e,n){var r,i,o,a=n.tag,s=n.props,l=n.params.props,d=s.filter,p=s.sort,c=!0===p,f=parseInt(s.step),g=s.reverse?-1:1;if(!Q(e))return e;if(c||p&&""+p===p?((r=e.map(function(e,t){return{i:t,v:""+(e=c?e:u(e,p))===e?e.toLowerCase():e}})).sort(function(e,t){return e.v>t.v?g:e.v<t.v?-g:0}),e=r.map(function(t){return e[t.i]})):(p||g<0)&&!a.dataMap&&(e=e.slice()),B(p)&&(e=e.sort(function(){return p.apply(n,arguments)})),g<0&&(!p||B(p))&&(e=e.reverse()),e.filter&&d&&(e=e.filter(d,n),n.tag.onFilter&&n.tag.onFilter(n)),l.sorted&&(r=p||g<0?e:e.slice(),a.sorted?t.observable(a.sorted).refresh(r):n.map.sorted=r),i=s.start,o=s.end,(l.start&&void 0===i||l.end&&void 0===o)&&(i=o=0),isNaN(i)&&isNaN(o)||(i=+i||0,o=void 0===o||o>e.length?e.length:+o,e=e.slice(i,o)),f>1){for(i=0,o=e.length,r=[];i<o;i+=f)r.push(e[i]);e=r}return l.paged&&a.paged&&$observable(a.paged).refresh(e),e}function O(e,n,r){var i=this.jquery&&(this[0]||T("Unknown template")),o=i.getAttribute(Pe);return k.call(o&&t.data(i)[Re]||H(i),e,n,r)}function E(e){return Ce[e]||(Ce[e]="&#"+e.charCodeAt(0)+";")}function I(e,t){return Te[t]||""}function S(e){return null!=e?me.test(e)&&(""+e).replace(be,E)||e:""}var D=!1===t;t=t&&t.fn?t:e.jQuery;var J,U,q,K,L,B,Q,H,W,Z,z,G,X,Y,ee,te,ne,re,ie,oe,ae,se,le="v1.0.3",de="_ocp",pe=/[ \t]*(\r\n|\n|\r)/g,ue=/\\(['"])/g,ce=/['"\\]/g,fe=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,ge=/^if\s/,ve=/<(\w+)[>\s]/,me=/[\x00`><\"'&=]/,he=/^on[A-Z]|^convert(Back)?$/,_e=/^\#\d+_`[\s\S]*\/\d+_`$/,be=/[\x00`><"'&=]/g,xe=/[&<>]/g,we=/&(amp|gt|lt);/g,ye=/\[['"]?|['"]?\]/g,ke=0,Ce={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;","=":"&#61;"},Te={amp:"&",gt:">",lt:"<"},je="html",Ae="object",Pe="data-jsv-tmpl",Re="jsvTmpl",Ne="For #index in nested block use #getIndex().",Me={},Fe=e.jsrender,Ve=Fe&&t&&!t.render,$e={template:{compile:function e(n,r,i,o){function a(r){var a,l;if(""+r===r||r.nodeType>0&&(s=r)){if(!s)if(/^\.\/[^\\:*?"<>]*$/.test(r))(l=H[n=n||r])?r=l:s=document.getElementById(r);else if(t.fn&&!G.rTmpl.test(r))try{s=t(r,document)[0]}catch(e){}s&&("SCRIPT"!==s.tagName&&T(r+": Use script block, not "+s.tagName),o?r=s.innerHTML:((a=s.getAttribute(Pe))&&(a!==Re?(r=H[a],delete H[a]):t.fn&&(r=t.data(s)[Re])),a&&r||(r=e(n=n||(t.fn?Re:r),s.innerHTML,i,o)),r.tmplName=n=n||a,n!==Re&&(H[n]=r),s.setAttribute(Pe,n),t.fn&&t.data(s,Re,r))),s=void 0}else r.fn||(r=void 0);return r}var s,d,p=r=r||"";if(G._html=W.html,0===o&&(o=void 0,p=a(p)),(o=o||(r.markup?r.bnds?l({},r):r:{})).tmplName=o.tmplName||n||"unnamed",i&&(o._parentTmpl=i),!p&&r.markup&&(p=a(r.markup))&&p.fn&&(p=p.markup),void 0!==p)return p.render||r.render?p.tmpls&&(d=p):(r=b(p,o),A(p.replace(ce,"\\$&"),r)),d||function(e){var t,n,r;for(t in $e)e[n=t+"s"]&&(r=e[n],e[n]={},K[n](r,e))}(d=l(function(){return d.render.apply(d,arguments)},r)),d}},tag:{compile:function(e,t,n){function i(){var t=this;t._={unlinked:!0},t.inline=!0,t.tagName=e}var o,a,s,d=new G._tg;if(B(t)?t={depends:t.depends,render:t}:""+t===t&&(t={template:t}),a=t.baseTag)for(s in t.flow=!!t.flow,(a=""+a===a?n&&n.tags[a]||z[a]:a)||T('baseTag: "'+t.baseTag+'" not found'),d=l(d,a),t)d[s]=r(a[s],t[s]);else d=l(d,t);return void 0!==(o=d.template)&&(d.template=""+o===o?H[o]||H(o):o),(i.prototype=d).constructor=d._ctr=i,n&&(d._parentTmpl=n),d}},viewModel:{compile:function(e,n){function r(e){d.apply(this,e)}function i(){return new r(arguments)}function o(e,t){for(var n,r,i,o,a,s=0;s<x;s++)n=void 0,(i=c[s])+""!==i&&(i=(n=i).getter,a=n.parentRef),void 0===(o=e[i])&&n&&void 0!==(r=n.defaultVal)&&(o=h(r,e)),t(o,n&&u[n.type],i,a)}function a(e,t,n){e=e+""===e?JSON.parse(e):e;var r,a,s,l,d,p,u,c,f,v,m=0,h=this;if(Q(h)){for(u={},f=[],a=e.length,s=h.length;m<a;m++){for(c=e[m],p=!1,r=0;r<s&&!p;r++)u[r]||(d=h[r],g&&(u[r]=p=g+""===g?c[g]&&(y[g]?d[g]():d[g])===c[g]:g(d,c)));p?(d.merge(c),f.push(d)):(f.push(v=i.map(c)),n&&_(v,n,t))}w?w(h).refresh(f,!0):h.splice.apply(h,[0,h.length].concat(f))}else for(l in o(e,function(e,t,n,r){t?h[n]().merge(e,h,r):h[n]()!==e&&h[n](e)}),e)l===L||y[l]||(h[l]=e[l])}function s(){function e(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n].unmap());return t}var t,n,r,i,o=0,a=this;if(Q(a))return e(a);for(t={};o<x;o++)r=void 0,(n=c[o])+""!==n&&(n=(r=n).getter),i=a[n](),t[n]=r&&i&&u[r.type]?Q(i)?e(i):i.unmap():i;for(n in a)!a.hasOwnProperty(n)||"_"===n.charAt(0)&&y[n.slice(1)]||n===L||B(a[n])||(t[n]=a[n]);return t}var l,d,p,u=this,c=n.getters,f=n.extend,g=n.id,v=t.extend({_is:e||"unnamed",unmap:s,merge:a},f),m="",b="",x=c?c.length:0,w=t.observable,y={};for(r.prototype=v,l=0;l<x;l++)!function(e){e=e.getter||e,y[e]=l+1;var t="_"+e;m+=(m?",":"")+e,b+="this."+t+" = "+e+";\n",v[e]=v[e]||function(n){return arguments.length?void(w?w(this).setProperty(e,n):this[t]=n):this[t]},w&&(v[e].set=v[e].set||function(e){this[t]=e})}(c[l]);return b=new Function(m,b),(d=function(){b.apply(this,arguments),(p=arguments[x+1])&&_(this,arguments[x],p)}).prototype=v,v.constructor=d,i.map=function(t){var n,r,i,l,d=0,p=t=t+""===t?JSON.parse(t):t,u=[];if(Q(t)){for(n=(t=t||[]).length;d<n;d++)u.push(this.map(t[d]));return u._is=e,u.unmap=s,u.merge=a,u}if(t){for(o(t,function(e,t){t&&(e=t.map(e)),u.push(e)}),p=this.apply(this,u),d=x;d--;)if(i=u[d],(l=c[d].parentRef)&&i&&i.unmap)if(Q(i))for(n=i.length;n--;)_(i[n],l,p);else _(i,l,p);for(r in t)r===L||y[r]||(p[r]=t[r])}return p},i.getters=c,i.extend=f,i.id=g,i}},helper:{},converter:{}};if(K={jsviews:le,sub:{rPath:/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,rPrm:/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(~?[\w$.^]+)?\s*((\+\+|--)|\+|-|~(?![\w$])|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?(@)?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,View:m,Err:s,tmplFn:A,parse:M,extend:l,extendCtx:V,syntaxErr:j,onStore:{template:function(e,t){null===t?delete Me[e]:e&&(Me[e]=t)}},addSetting:w,settings:{allowCode:!1},advSet:a,_thp:i,_gm:r,_tg:function(){},_cnvt:function(e,t,n,r){var o,a,s,d,p,u="number"==typeof n&&t.tmpl.bnds[n-1];if(void 0===r&&u&&u._lr&&(r=""),void 0!==r?n=r={props:{},args:[r]}:u&&(n=u(t.data,t,G)),u=u._bd&&u,e||u){if(o=(a=t._lc)&&a.tag,n.view=t,!o){if(o=l(new G._tg,{_:{bnd:u,unlinked:!0,lt:n.lt},inline:!a,tagName:":",convert:e,onArrayChange:!0,flow:!0,tagCtx:n,tagCtxs:[n],_is:"tag"}),(d=n.args.length)>1)for(p=o.bindTo=[];d--;)p.unshift(d);a&&(a.tag=o,o.linkCtx=a),n.ctx=V(n.ctx,(a?a.view:t).ctx),i(o,n)}o._er=r&&s,o.ctx=n.ctx||o.ctx||{},n.ctx=void 0,s=o.cvtArgs()[0],o._er=r&&s}else s=n.args[0];return null!=(s=u&&t._.onRender?t._.onRender(s,t,o):s)?s:""},_tag:function(e,t,n,r,o,a){function s(e){var t=l[e];if(void 0!==t)for(t=Q(t)?t:[t],_=t.length;_--;)J=t[_],isNaN(parseInt(J))||(t[_]=parseInt(J));return t||[0]}var l,d,p,u,m,h,_,b,x,w,y,j,A,P,R,N,M,F,$,O,E,I,S,D,J,U,K,L,B,H=0,Z="",z=(t=t||q)._lc||!1,X=t.ctx,Y=n||t.tmpl,ee="number"==typeof r&&t.tmpl.bnds[r-1];for("tag"===e._is?(e=(l=e).tagName,r=l.tagCtxs,l.template):(d=t.getRsc("tags",e)||T("Unknown tag: {{"+e+"}} ")).template,void 0===a&&ee&&(ee._lr=d.lateRender&&!1!==ee._lr||ee._lr)&&(a=""),void 0!==a?(Z+=a,r=a=[{props:{},args:[],params:{props:{}}}]):ee&&(r=ee(t.data,t,G)),h=r.length;H<h;H++)N=(w=r[H]).tmpl,(!z||!z.tag||H&&!z.tag.inline||l._er||N&&+N===N)&&(N&&Y.tmpls&&(w.tmpl=w.content=Y.tmpls[N-1]),w.index=H,w.ctxPrm=c,w.render=k,w.cvtArgs=f,w.bndArgs=v,w.view=t,w.ctx=V(V(w.ctx,d&&d.ctx),X)),(n=w.props.tmpl)&&(w.tmpl=t._getTmpl(n),w.content=w.content||w.tmpl),l?z&&z.fn._lr&&(M=!!l.init):(M=!!(l=new d._ctr).init,l.parent=m=X&&X.tag,l.tagCtxs=r,z&&(l.inline=!1,z.tag=l),l.linkCtx=z,(l._.bnd=ee||z.fn)?(l._.ths=w.params.props.this,l._.lt=r.lt,l._.arrVws={}):l.dataBoundOnly&&T(e+" must be data-bound:\n{^{"+e+"}}")),S=l.dataMap,w.tag=l,S&&r&&(w.map=r[H].map),l.flow||(y=w.ctx=w.ctx||{},p=l.parents=y.parentTags=X&&V(y.parentTags,X.parentTags)||{},m&&(p[m.tagName]=m),p[l.tagName]=y.tag=l,y.tagCtx=w);if(!(l._er=a)){for(i(l,r[0]),l.rendering={rndr:l.rendering},H=0;H<h;H++){if(I=(w=l.tagCtx=r[H]).props,l.ctx=w.ctx,!H){if(M&&(l.init(w,z,l.ctx),M=void 0),w.args.length||!1===w.argDefault||!1===l.argDefault||(w.args=O=[w.view.data],w.params.args=["#data"]),A=s("bindTo"),void 0!==l.bindTo&&(l.bindTo=A),void 0!==l.bindFrom?l.bindFrom=s("bindFrom"):l.bindTo&&(l.bindFrom=l.bindTo=A),P=l.bindFrom||A,K=A.length,U=P.length,l._.bnd&&(L=l.linkedElement)&&(l.linkedElement=L=Q(L)?L:[L],K!==L.length&&T("linkedElement not same length as bindTo")),(L=l.linkedCtxParam)&&(l.linkedCtxParam=L=Q(L)?L:[L],U!==L.length&&T("linkedCtxParam not same length as bindFrom/bindTo")),P)for(l._.fromIndex={},l._.toIndex={},b=U;b--;)for(J=P[b],_=K;_--;)J===A[_]&&(l._.fromIndex[_]=b,l._.toIndex[b]=_);z&&(z.attr=l.attr=z.attr||l.attr||z._dfAt),u=l.attr,l._.noVws=u&&u!==je}if(O=l.cvtArgs(H),l.linkedCtxParam)for(E=l.cvtArgs(H,1),_=U,B=l.constructor.prototype.ctx;_--;)(j=l.linkedCtxParam[_])&&(J=P[_],R=E[_],w.ctx[j]=G._cp(B&&void 0===R?B[j]:R,void 0!==R&&g(w.params,J),w.view,l._.bnd&&{tag:l,cvt:l.convert,ind:_,tagElse:H}));(F=I.dataMap||S)&&(O.length||I.dataMap)&&(($=w.map)&&$.src===O[0]&&!o||($&&$.src&&$.unmap(),F.map(O[0],w,$,!l._.bnd),$=w.map),O=[$.tgt]),x=void 0,l.render&&(x=l.render.apply(l,O),t.linked&&x&&!_e.test(x)&&((n={links:[]}).render=n.fn=function(){return x},x=C(n,t.data,void 0,!0,t,void 0,void 0,l))),O.length||(O=[t]),void 0===x&&(D=O[0],l.contentCtx&&(D=!0===l.contentCtx?t:l.contentCtx(D)),x=w.render(D,!0)||(o?void 0:"")),Z=Z?Z+(x||""):void 0!==x?""+x:void 0}l.rendering=l.rendering.rndr}return l.tagCtx=r[0],l.ctx=l.tagCtx.ctx,l._.noVws&&l.inline&&(Z="text"===u?W.html(Z):""),ee&&t._.onRender?t._.onRender(Z,t,l):Z},_er:T,_err:function(e,t,n){var r=void 0!==n?B(n)?n.call(t.data,e,t):n||"":"{Error: "+(e.message||e)+"}";return X.onError&&void 0!==(n=X.onError.call(t.data,e,n&&r,t))&&(r=n),t&&!t._lc?W.html(r):r},_cp:o,_sq:function(e){return"constructor"===e&&j(""),e}},settings:{delimiters:function e(t,n,r){return t?Q(t)?e.apply(K,t):(oe=r?r[0]:oe,/^(\W|_){5}$/.test(t+n+oe)||T("Invalid delimiters"),te=t[0],ne=t[1],re=n[0],ie=n[1],X.delimiters=[te+ne,re+ie,oe],t="\\"+te+"(\\"+oe+")?\\"+ne,n="\\"+re+"\\"+ie,U="(?:(\\w+(?=[\\/\\s\\"+re+"]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^\\"+re+"]|\\"+re+"(?!\\"+ie+"))*?)",G.rTag="(?:"+U+")",U=new RegExp("(?:"+t+U+"(\\/)?|\\"+te+"(\\"+oe+")?\\"+ne+"(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))"+n,"g"),G.rTmpl=new RegExp("^\\s|\\s$|<.*>|([^\\\\]|^)[{}]|"+t+".*"+n),ee):X.delimiters},advanced:function(e){return e?(l(Y,e),G.advSet(),ee):Y}},map:y},(s.prototype=new Error).constructor=s,d.depends=function(){return[this.get("item"),"index"]},p.depends="index",m.prototype={get:function(e,t){t||!0===e||(t=e,e=void 0);var n,r,i,o,a=this,s="root"===t;if(e){if(!(o=t&&a.type===t&&a))if(n=a.views,a._.useKey){for(r in n)if(o=t?n[r].get(e,t):n[r])break}else for(r=0,i=n.length;!o&&r<i;r++)o=t?n[r].get(e,t):n[r]}else if(s)o=a.root;else if(t)for(;a&&!o;)o=a.type===t?a:void 0,a=a.parent;else o=a.parent;return o||void 0},getIndex:p,ctxPrm:c,getRsc:function(e,t){var n,r,i=this;if(""+t===t){for(;void 0===n&&i;)n=(r=i.tmpl&&i.tmpl[e])&&r[t],i=i.parent;return n||K[e][t]}},_getTmpl:function(e){return e&&(e.fn?e:this.getRsc("templates",e)||H(e))},_getOb:u,_is:"view"},G=K.sub,ee=K.settings,!(Fe||t&&t.render)){for(J in $e)x(J,$e[J]);if(W=K.converters,Z=K.helpers,z=K.tags,G._tg.prototype={baseApply:function(e){return this.base.apply(this,e)},cvtArgs:f,bndArgs:v,ctxPrm:c},q=G.topView=new m,t){if(t.fn.render=O,L=t.expando,t.observable){if(le!==(le=t.views.jsviews))throw"JsObservable requires JsRender "+le;l(G,t.views.sub),K.map=t.views.map}}else t={},D&&(e.jsrender=t),t.renderFile=t.__express=t.compile=function(){throw"Node.js: use npm jsrender, or jsrender-node.js"},t.isFunction=function(e){return"function"==typeof e},t.isArray=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},G._jq=function(e){e!==t&&(l(e,t),(t=e).fn.render=O,delete t.jsrender,L=t.expando)},t.jsrender=le;for(ae in(X=G.settings).allowCode=!1,B=t.isFunction,t.render=Me,t.views=K,t.templates=H=K.templates,X)w(ae);(ee.debugMode=function(e){return void 0===e?X.debugMode:(X.debugMode=e,X.onError=e+""===e?function(){return e}:B(e)?e:void 0,ee)})(!1),Y=X.advanced={useViews:!1,_jsv:!1},z({if:{render:function(e){var t=this,n=t.tagCtx;return t.rendering.done||!e&&(n.args.length||!n.index)?"":(t.rendering.done=!0,void(t.selected=n.index))},contentCtx:!0,flow:!0},for:{sortDataMap:y($),init:function(e,t){this.setDataMap(this.tagCtxs)},render:function(e){var t,n,r,i,o,a=this,s=a.tagCtx,l=!1===s.argDefault,d=s.props,p=l||s.args.length,u="",c=0;if(!a.rendering.done){if(t=p?e:s.view.data,l)for(l=d.reverse?"unshift":"push",i=+d.end,o=+d.step||1,t=[],r=+d.start||0;(i-r)*o>0;r+=o)t[l](r);void 0!==t&&(n=Q(t),u+=s.render(t,!p||d.noIteration),c+=n?t.length:1),(a.rendering.done=c)&&(a.selected=s.index)}return u},setDataMap:function(e){for(var t,n,r,i=e.length;i--;)n=(t=e[i]).props,r=t.params.props,t.argDefault=void 0===n.end||t.args.length>0,n.dataMap=!1!==t.argDefault&&Q(t.args[0])&&(r.sort||r.start||r.end||r.step||r.filter||r.reverse||n.sort||n.start||n.end||n.step||n.filter||n.reverse)&&this.sortDataMap},flow:!0},props:{baseTag:"for",dataMap:y(function(e,n){var r,i,o=n.map,a=o&&o.propsArr;if(!a){if(a=[],typeof e===Ae||B(e))for(r in e)i=e[r],r===L||!e.hasOwnProperty(r)||n.props.noFunctions&&t.isFunction(i)||a.push({key:r,prop:i});o&&(o.propsArr=o.options&&a)}return $(a,n)}),init:a,flow:!0},include:{flow:!0},"*":{render:o,flow:!0},":*":{render:o,flow:!0},dbg:Z.dbg=W.dbg=function(e){try{throw console.log("JsRender dbg breakpoint: "+e),"dbg breakpoint"}catch(e){}return this.base?this.baseApply(arguments):e}}),W({html:S,attr:S,encode:function(e){return""+e===e?e.replace(xe,E):e},unencode:function(e){return""+e===e?e.replace(we,I):e},url:function(e){return null!=e?encodeURI(""+e):null===e?e:""}})}return X=G.settings,Q=(t||Fe).isArray,ee.delimiters("{{","}}","^"),Ve&&Fe.views.sub._jq(t),t||Fe},window);
